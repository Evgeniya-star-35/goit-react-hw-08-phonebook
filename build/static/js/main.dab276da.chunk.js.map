{"version":3,"sources":["redux/Phonebook/phonebook-reduser.js","redux/auth/auth-slice.js","redux/store.js","components/Navigation/Navigation.js","redux/auth/auth-selectors.js","images/user.jpg","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","routes/PrivateRoute.js","routes/PublicRoute.js","components/Container/Container.js","components/App/App.js","index.js","redux/auth/auth-operations.js","redux/Phonebook/phonebook-operations.js","components/Navigation/Navigation.module.css","components/UserMenu/UserMenu.module.css","components/AuthNav/AuthNav.module.css","redux/Phonebook/phonebook-actions.js","components/AppBar/AppBar.module.css","components/Container/Container.module.css"],"names":["filterReducer","createReducer","changeFilter","_","payload","contactsSlice","createSlice","name","initialState","contacts","loading","error","extraReducers","fetchContacts","fulfilled","state","pending","rejected","addContact","deleteContact","filter","id","authSlice","user","email","token","isAuth","isGetCurrentUser","register","logIn","logOut","getCurrentUser","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","authPersistReducer","persistReducer","authReducer","store","configureStore","reducer","contactsReducer","auth","devTools","process","persistor","persistStore","Navigation","to","exact","className","s","link","activeClassName","activeLink","getIsAuth","getUserName","getIsFetchCurrentUser","UserMenu","dispatch","useDispatch","useSelector","avatar","defaultAvatar","container","src","alt","width","height","button","type","onClick","AuthNav","AppBar","header","PrivateRoute","children","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","Container","HomePage","lazy","Register","Login","Phonebook","App","isFetchCurrentUser","useEffect","fallback","path","component","ReactDOM","render","StrictMode","document","getElementById","axios","defaults","baseURL","headers","common","Authorization","createAsyncThunk","userData","a","rejectWithValue","post","data","thunkAPI","getState","set","get","contact","console","log","contactId","delete","module","exports","createAction"],"mappings":"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","file":"static/js/main.dab276da.chunk.js","sourcesContent":["import { createReducer, createSlice } from '@reduxjs/toolkit';\r\nimport { changeFilter } from '../Phonebook/phonebook-actions';\r\n\r\nimport {\r\n  fetchContacts,\r\n  addContact,\r\n  deleteContact,\r\n} from './phonebook-operations';\r\n\r\nexport const filterReducer = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst contactsSlice = createSlice({\r\n  name: 'contacts',\r\n  initialState: { contacts: [], loading: false, error: null },\r\n  extraReducers: {\r\n    [fetchContacts.fulfilled]: (state, { payload }) => ({\r\n      ...state,\r\n      contacts: payload,\r\n      loading: false,\r\n      error: null,\r\n    }),\r\n    [fetchContacts.pending]: state => ({\r\n      ...state,\r\n      loading: true,\r\n      error: null,\r\n    }),\r\n    [fetchContacts.rejected]: (state, { payload }) => ({\r\n      ...state,\r\n      loading: false,\r\n      error: payload,\r\n    }),\r\n\r\n    [addContact.fulfilled]: (state, { payload }) => ({\r\n      ...state,\r\n      contacts: [...state.contacts, payload],\r\n      loading: false,\r\n      error: null,\r\n    }),\r\n    [addContact.pending]: state => ({\r\n      ...state,\r\n      loading: true,\r\n      error: null,\r\n    }),\r\n    [addContact.rejected]: (state, { payload }) => ({\r\n      ...state,\r\n      loading: false,\r\n      error: payload,\r\n    }),\r\n\r\n    [deleteContact.fulfilled]: (state, { payload }) => ({\r\n      ...state,\r\n      contacts: state.contacts.filter(({ id }) => id !== payload),\r\n    }),\r\n\r\n    [deleteContact.pending]: state => ({\r\n      ...state,\r\n      loading: true,\r\n      error: null,\r\n    }),\r\n    [deleteContact.rejected]: (state, { payload }) => ({\r\n      ...state,\r\n      loading: false,\r\n      error: payload,\r\n    }),\r\n  },\r\n});\r\n\r\nexport default contactsSlice.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { register, logOut, logIn, getCurrentUser } from './auth-operations';\r\n\r\nconst initialState = {\r\n  user: { name: '', email: '' },\r\n  token: '',\r\n  isAuth: false,\r\n  isGetCurrentUser: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [register.fulfilled](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isAuth = true;\r\n    },\r\n    [logIn.fulfilled](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isAuth = true;\r\n      // state.isGetCurrentUser = true;\r\n    },\r\n    [logOut.fulfilled](state, { payload }) {\r\n      state.user = { name: '', email: '' };\r\n      state.token = '';\r\n      state.isAuth = false;\r\n    },\r\n    [getCurrentUser.pending](state) {\r\n      state.isGetCurrentUser = true;\r\n    },\r\n    [getCurrentUser.fulfilled](state, { payload }) {\r\n      state.user = payload;\r\n      state.isAuth = true;\r\n      state.isGetCurrentUser = false;\r\n    },\r\n    [getCurrentUser.rejected](state) {\r\n      state.isGetCurrentUser = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport contactsReducer, { filterReducer } from './Phonebook/phonebook-reduser';\r\nimport authReducer from './auth/auth-slice';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  logger,\r\n];\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\nconst authPersistReducer = persistReducer(authPersistConfig, authReducer);\r\nexport const store = configureStore({\r\n  reducer: {\r\n    contacts: contactsReducer,\r\n    auth: authPersistReducer,\r\n    filter: filterReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\nexport const persistor = persistStore(store);\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navigation.module.css';\r\n\r\nconst Navigation = () => (\r\n  <nav>\r\n    <NavLink\r\n      to=\"/\"\r\n      exact\r\n      className={s.link}\r\n      activeClassName={s.activeLink}\r\n      // className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n    >\r\n      Home\r\n    </NavLink>\r\n\r\n    <NavLink\r\n      to=\"/contacts\"\r\n      exact\r\n      className={s.link}\r\n      activeClassName={s.activeLink}\r\n      // className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n    >\r\n      Phonebook\r\n    </NavLink>\r\n  </nav>\r\n);\r\n\r\nexport default Navigation;\r\n","export const getIsAuth = state => state.auth.isAuth;\r\nexport const getUserName = state => state.auth.user.name;\r\nexport const getIsFetchCurrentUser = state => state.auth.isGetCurrentUser;\r\n","export default __webpack_public_path__ + \"static/media/user.96db366d.jpg\";","import { useDispatch, useSelector } from 'react-redux';\r\n// import LogoutIcon from '@mui/icons-material/Logout';\r\nimport { logOut } from '../../redux/auth/auth-operations';\r\nimport { getUserName } from '../../redux/auth/auth-selectors';\r\nimport defaultAvatar from '../../images/user.jpg';\r\nimport s from './UserMenu.module.css';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(getUserName);\r\n  const avatar = defaultAvatar;\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <img\r\n        src={avatar}\r\n        alt=\"avatar\"\r\n        width=\"32\"\r\n        height=\"32\"\r\n        className={s.avatar}\r\n      />\r\n      <span className={s.name}>Welcome,{name}!</span>\r\n      <button\r\n        className={s.button}\r\n        type=\"button\"\r\n        onClick={() => dispatch(logOut())}\r\n      >\r\n        Log out\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './AuthNav.module.css';\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        exact\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n        // className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n      >\r\n        Registration\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/login\"\r\n        exact\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n        // className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport Navigation from '../Navigation';\r\nimport UserMenu from '../UserMenu';\r\nimport AuthNav from '../AuthNav';\r\nimport { getIsAuth } from '../../redux/auth/auth-selectors';\r\nimport s from './AppBar.module.css';\r\n\r\nexport default function AppBar() {\r\n  const isAuth = useSelector(getIsAuth);\r\n  return (\r\n    <header className={s.header}>\r\n      <Navigation />\r\n      {isAuth ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getIsAuth } from '../redux/auth/auth-selectors';\r\n\r\nexport default function PrivateRoute({\r\n  children,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const isAuth = useSelector(getIsAuth);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isAuth ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getIsAuth } from '../redux/auth/auth-selectors';\r\n\r\nexport default function PublicRoute({\r\n  children,\r\n  restricted = false,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const isAuth = useSelector(getIsAuth);\r\n  const shouldRedirect = isAuth && restricted;\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import s from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n","import { Suspense, lazy, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Switch } from 'react-router-dom';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport AppBar from '../AppBar/AppBar';\nimport { getIsFetchCurrentUser } from '../../redux/auth/auth-selectors';\nimport PrivateRoute from '../../routes/PrivateRoute';\nimport PublicRoute from '../../routes/PublicRoute';\nimport Container from '../../components/Container';\nimport { getCurrentUser } from '../../redux/auth/auth-operations';\n\nconst HomePage = lazy(() =>\n  import(\n    '../../pages/HomePage/HomePage.js' /* webpackChunkName: \"home-page\" */\n  ),\n);\nconst Register = lazy(() =>\n  import(\n    '../../pages/Register/Register.js' /* webpackChunkName: \"register-page\" */\n  ),\n);\nconst Login = lazy(() =>\n  import('../../pages/Login/Login.js' /* webpackChunkName: \"login-page\" */),\n);\nconst Phonebook = lazy(() =>\n  import(\n    '../../pages/Phonebook/Phonebook.js' /* webpackChunkName: \"phonebook-page\" */\n  ),\n);\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const isFetchCurrentUser = useSelector(getIsFetchCurrentUser);\n\n  useEffect(() => {\n    dispatch(getCurrentUser());\n  }, [dispatch]);\n  return (\n    !isFetchCurrentUser && (\n      <>\n        <AppBar />\n        <Container>\n          <Suspense fallback={<Loader />}>\n            <Switch>\n              <PublicRoute exact path=\"/\" component={HomePage}></PublicRoute>\n\n              <PublicRoute path=\"/register\" redirectTo=\"/\" restricted>\n                <Register />\n              </PublicRoute>\n\n              <PublicRoute\n                path=\"/login\"\n                restricted\n                redirectTo=\"/\"\n                component={Login}\n              ></PublicRoute>\n\n              <PrivateRoute\n                path=\"/contacts\"\n                component={Phonebook}\n                redirectTo=\"/login\"\n              />\n            </Switch>\n          </Suspense>\n        </Container>\n      </>\n    )\n  );\n};\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { persistor, store } from './redux/store';\r\nimport { Provider } from 'react-redux';\r\nimport './index.css';\r\nimport App from './components/App';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={<h2>Wait,loading...</h2>} persistor={persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nexport const register = createAsyncThunk(\r\n  'auth/register',\r\n  async (userData, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post('/users/signup', userData);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\nexport const logIn = createAsyncThunk(\r\n  'auth/login',\r\n  async (userData, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post('/users/login', userData);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\nexport const logOut = createAsyncThunk(\r\n  'auth/logOut',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      await axios.post('/users/logout');\r\n      token.unset();\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const getCurrentUser = createAsyncThunk(\r\n  'auth/refresh',\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const token = state.auth.token;\r\n    if (token === null) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n    token.set(token);\r\n    try {\r\n      const { data } = await axios.get('/users/current');\r\n      return data;\r\n    } catch (error) {\r\n      thunkAPI.rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nexport const fetchContacts = createAsyncThunk(\r\n  'contacts/fetchContacts',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.get('/contacts');\r\n      return data;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const addContact = createAsyncThunk(\r\n  'contacts/addContact',\r\n  async (contact, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post('/contacts', contact);\r\n      console.log(data);\r\n\r\n      return data;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const deleteContact = createAsyncThunk(\r\n  'contacts/deleteContact',\r\n  async (contactId, { rejectWithValue }) => {\r\n    try {\r\n      const {\r\n        data: { id },\r\n      } = await axios.delete(`/contacts/${contactId}`);\r\n\r\n      return id;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__1yyt0\",\"activeLink\":\"Navigation_activeLink__1-Fol Navigation_link__1yyt0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__3DBxj\",\"avatar\":\"UserMenu_avatar__3vozZ\",\"name\":\"UserMenu_name__3YKm3\",\"button\":\"UserMenu_button__3tr7j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__11vIr\",\"activeLink\":\"AuthNav_activeLink__210L4 AuthNav_link__11vIr\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\n// export const addContact = createAction('contact/add');\r\n// export const deleteContact = createAction('contact/delete');\r\nexport const changeFilter = createAction('contact/changeFilter');\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__2PSoY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3ozKX\"};"],"sourceRoot":""}